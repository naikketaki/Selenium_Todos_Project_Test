package stepDefination;

import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.yaml.snakeyaml.introspector.Property;

import cucumber.api.java.After;
import cucumber.api.java.Before;
import cucumber.api.java.en.Given;
import cucumber.api.java.en.Then;
import cucumber.api.java.en.When;
import utility.PropertyFileReader;

import static org.junit.Assert.assertEquals;

import java.util.Properties;

//import junit.framework.Assert;
import org.junit.Assert;
import org.junit.Test;

public class TodoTests {
	
	WebDriver driver;
	
	//PropertyFileReader object = new PropertyFileReader();
	@Before()
	public void setup() {
		System.setProperty("webdriver.chrome.driver", "C:\\Ketaki_264\\ChromeDriver\\chromedriver_win32\\chromedriver.exe");
		driver=new ChromeDriver();	
		
	}
	@Given("^Open Firefox and start application$")
	public void Open_Firefox_and_start_application() throws Throwable {
		
		driver.manage().window().maximize();
		//driver.get("https://todomvc.com/examples/angular2/");
	   
	}

	@When("^User click on valid link$")
	public void User_click_on_valid_link() throws Throwable {
		//Properties property= object.getProperty();
		//driver.get(property.getProperty("browser.baseURL"));
		driver.get("https://todomvc.com/examples/angular2/");
		
	   
	}

	@SuppressWarnings("deprecation")
	@Then("^I should be able to get into and see Todos as a header$")
	public void I_should_be_able_to_get_into_and_see_Todos_as_a_header() throws Throwable {
		String title=driver.getCurrentUrl();
		System.out.println("My Url is" + title );
		assertEquals(title, "https://todomvc.com/examples/angular2/");
		
	}
	
	@Given("^User on home page$")
	public void User_on_home_page() throws Throwable {
		//driver.get(property.getProperty("browser.baseURL"));
		//Properties property1= object.getProperty();
		//driver.get(property1.getProperty("browser.baseURL"));
		User_click_on_valid_link();
		Thread.sleep(1000);
	}

	@When("^Enter valid \\\"([^\\\"]*)\\\"")
	public void Enter_valid_value_on_empty_text_box_and_Hit_Enter_button(final String Value ) throws Throwable {
		Thread.sleep(1000);
		driver.findElement(By.xpath("//input[@placeholder='What needs to be done?']")).sendKeys(Value);
	    Thread.sleep(1000);
	}

	@Then("^Value should get added in the TODO box$")
	public void Value_should_get_added_in_the_TODO_box() throws Throwable {
	   System.out.println("Hello");
	   Thread.sleep(1000);
	   driver.findElement(By.xpath("//input[@placeholder='What needs to be done?']")).sendKeys(Keys.ENTER);
	   Thread.sleep(2000);
	}
	
	
	/* @After() public void quidBrowser() { driver.quit(); } */ 
	



}
